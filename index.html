<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üêñMarranito Virtual</title>
  <link href="https://fonts.googleapis.com/css2?family=Fredoka+One&family=Sniglet&display=swap" rel="stylesheet">
  <style>
    .bg-gradient-to-b { background-image: linear-gradient(to bottom, var(--tw-gradient-stops)); }
    .from-blue-100 { --tw-gradient-from: #dbeafe; --tw-gradient-stops: var(--tw-gradient-from), var(--tw-gradient-to, rgba(219, 234, 254, 0)); }
    .to-pink-100 { --tw-gradient-to: #fce7f3; }
    .min-h-screen { min-height: 100vh; }
    .flex { display: flex; }
    .flex-col { flex-direction: column; }
    .items-center { align-items: center; }
    .justify-center { justify-content: center; }
    .font-fredoka { font-family: 'Fredoka One', cursive; }
    .font-sniglet { font-family: 'Sniglet', cursive; }
    .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
    .text-center { text-align: center; }
    .text-4xl { font-size: 2.25rem; line-height: 2.5rem; }
    .md\:text-5xl { font-size: 3rem; line-height: 1; }
    .font-bold { font-weight: 700; }
    .text-blue-600 { color: #2563eb; }
    .text-lg { font-size: 1.125rem; line-height: 1.75rem; }
    .md\:text-xl { font-size: 1.25rem; line-height: 1.75rem; }
    .text-gray-700 { color: #4b5563; }
    .mt-2 { margin-top: 0.5rem; }
    .relative { position: relative; }
    .w-64 { width: 16rem; }
    .h-64 { height: 16rem; }
    .w-96 { width: 24rem; }
    .h-96 { height: 24rem; }
    .w-full { width: 100%; }
    .h-full { height: 100%; }
    .absolute { position: absolute; }
    .top-0 { top: 0; }
    .left-0 { left: 0; }
    .right-0 { right: 0; }
    .top-1\/2 { top: 50%; transform: translateY(-50%); }
    .left-1\/2 { left: 50%; transform: translateX(-50%); }
    .bottom-0 { bottom: 0; }
    .mt-4 { margin-top: 1rem; }
    .text-2xl { font-size: 1.5rem; line-height: 2rem; }
    .font-semibold { font-weight: 600; }
    .text-gray-800 { color: #1f2937; }
    .text-gray-600 { color: #4b5563; }
    .text-md { font-size: 1rem; line-height: 1.5rem; }
    .text-gray-500 { color: #6b7280; }
    .mt-6 { margin-top: 1.5rem; }
    .text-orange-500 { color: #f97316; }
    .mt-12 { margin-top: 3rem; }
    .max-w-2xl { max-width: 42rem; }
    .mx-auto { margin-left: auto; margin-right: auto; }
    .rounded-lg { border-radius: 0.5rem; }
    .py-4 { padding-top: 1rem; padding-bottom: 1rem; }
    .text-sm { font-size: 0.875rem; line-height: 1.25rem; }
    .w-8 { width: 2rem; }
    .h-8 { height: 2rem; }
    .object-contain { object-fit: contain; }
    .w-80 { width: 20rem; }
    .h-40 { height: 10rem; }
    .w-48 { width: 12rem; }
    .h-48 { height: 12rem; }
    .px-6 { padding-left: 1.5rem; padding-right: 1.5rem; }
    .animate-float { animation: float 1.5s ease-in-out infinite; }
    .animate-float-delay-1 { animation: float 1.5s ease-in-out infinite 0.3s; }
    .animate-float-delay-2 { animation: float 1.5s ease-in-out infinite 0.6s; }
    .animate-float-delay-3 { animation: float 1.5s ease-in-out infinite 0.9s; }
    .animate-float-delay-4 { animation: float 1.5s ease-in-out infinite 1.2s; }
    .mt-\[-1rem\] { margin-top: -1rem; }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-20px); } }
    /* Estilos para las nubes animadas */
    .image-container { position: relative; width: 24rem; height: 24rem; }
    .cloud-1 { position: absolute; top: 5%; left: -200px; animation: moveCloud 10s linear infinite; animation-delay: 4.5s; }
    .cloud-2 { position: absolute; top: 20%; left: -200px; animation: moveCloud 12s linear infinite; animation-delay: 0s; }
    .cloud-3 { position: absolute; top: 35%; left: -200px; animation: moveCloud 14s linear infinite; animation-delay: 9s; }
    .cloud-4 { position: absolute; top: 50%; left: -200px; animation: moveCloud 16s linear infinite; animation-delay: 1.5s; z-index: 5; }
    .cloud-5 { position: absolute; top: 65%; left: -200px; animation: moveCloud 18s linear infinite; animation-delay: 6s; }
    .cloud-6 { position: absolute; top: 80%; left: -200px; animation: moveCloud 20s linear infinite; animation-delay: 3s; }
    .cloud-7 { position: absolute; top: 12.5%; left: -200px; animation: moveCloud 11s linear infinite; animation-delay: 10.5s; }
    .cloud-8 { position: absolute; top: 42.5%; left: -200px; animation: moveCloud 15s linear infinite; animation-delay: 7.5s; z-index: 5; }
    .cloud-size-1 { width: 4rem; height: 2rem; }
    .cloud-size-2 { width: 5rem; height: 2.5rem; }
    .cloud-size-3 { width: 3rem; height: 1.5rem; }
    .z-10 { z-index: 10; }
    @keyframes moveCloud {
      0% { left: -200px; }
      100% { left: calc(100% + 200px); }
    }
    @media (min-width: 768px) {
      .md\:text-5xl { font-size: 3rem; line-height: 1; }
      .md\:text-xl { font-size: 1.25rem; line-height: 1.75rem; }
    }
  </style>
</head>
<body class="bg-gradient-to-b from-blue-100 to-pink-100 min-h-screen flex flex-col items-center justify-center font-fredoka px-6">
  <!-- Header -->
  <header class="text-center py-4">
    <div class="image-container mx-auto">
      <!-- Imagen principal del marranito -->
      <img src="https://raw.githubusercontent.com/abcb1122/marranitovirtual/main/assets/images/marranitoinicio.png" alt="Marranito Inicio" class="w-96 h-96 object-contain z-10">
      <!-- Nube 1 -->
      <img src="https://raw.githubusercontent.com/abcb1122/marranitovirtual/main/assets/images/nube1.png" alt="Nube 1" class="cloud-1 cloud-size-1">
      <!-- Nube 2 -->
      <img src="https://raw.githubusercontent.com/abcb1122/marranitovirtual/main/assets/images/nube2.png" alt="Nube 2" class="cloud-2 cloud-size-2">
      <!-- Nube 3 -->
      <img src="https://raw.githubusercontent.com/abcb1122/marranitovirtual/main/assets/images/nube3.png" alt="Nube 3" class="cloud-3 cloud-size-3">
      <!-- Nube 4 -->
      <img src="https://raw.githubusercontent.com/abcb1122/marranitovirtual/main/assets/images/nube1.png" alt="Nube 4" class="cloud-4 cloud-size-1">
      <!-- Nube 5 -->
      <img src="https://raw.githubusercontent.com/abcb1122/marranitovirtual/main/assets/images/nube2.png" alt="Nube 5" class="cloud-5 cloud-size-2">
      <!-- Nube 6 -->
      <img src="https://raw.githubusercontent.com/abcb1122/marranitovirtual/main/assets/images/nube3.png" alt="Nube 6" class="cloud-6 cloud-size-3">
      <!-- Nube 7 -->
      <img src="https://raw.githubusercontent.com/abcb1122/marranitovirtual/main/assets/images/nube3.png" alt="Nube 7" class="cloud-7 cloud-size-3">
      <!-- Nube 8 -->
      <img src="https://raw.githubusercontent.com/abcb1122/marranitovirtual/main/assets/images/nube1.png" alt="Nube 8" class="cloud-8 cloud-size-1">
    </div>
    <p class="text-lg md:text-xl text-gray-700 mt-[-1rem]">¬°Ayuda al Chiqui üë¶üèª a ahorrar sats en su alcanc√≠a virtual!</p>
  </header>

  <!-- Secci√≥n principal -->
  <section class="flex flex-col items-center text-center">
    <div class="relative w-64 h-64">
      <img src="https://raw.githubusercontent.com/abcb1122/gbcc-marranito/main/assets/images/marranito.png" alt="Marranito" class="w-full h-full object-contain">
      <img src="https://raw.githubusercontent.com/abcb1122/gbcc-marranito/main/assets/images/bitcoin-icon.png" class="absolute top-0 left-0 w-8 h-8 object-contain animate-float" alt="BTC">
      <img src="https://raw.githubusercontent.com/abcb1122/gbcc-marranito/main/assets/images/bitcoin-icon.png" class="absolute top-0 right-0 w-8 h-8 object-contain animate-float-delay-1" alt="BTC">
      <img src="https://raw.githubusercontent.com/abcb1122/gbcc-marranito/main/assets/images/bitcoin-icon.png" class="absolute top-1/2 left-0 w-8 h-8 object-contain animate-float-delay-2" alt="BTC">
      <img src="https://raw.githubusercontent.com/abcb1122/gbcc-marranito/main/assets/images/bitcoin-icon.png" class="absolute top-1/2 right-0 w-8 h-8 object-contain animate-float-delay-3" alt="BTC">
      <img src="https://raw.githubusercontent.com/abcb1122/gbcc-marranito/main/assets/images/bitcoin-icon.png" class="absolute bottom-0 left-1/2 w-8 h-8 object-contain animate-float-delay-4" alt="BTC">
    </div>

    <div class="text-center mt-4">
      <p id="balance" class="text-2xl font-semibold text-gray-800">Cargando saldo...</p>
      <p id="cop-balance" class="text-lg text-gray-600">Cargando conversi√≥n...</p>
      <p class="text-md text-gray-500 mt-2">¬°Env√≠a sats y ayuda a llenar el marranito!</p>
    </div>

    <div class="mt-6 text-lg text-orange-500 text-center font-sniglet">
      <p>Usa la LNAddress: marranito@pay.abcbbtc.com</p>
      <p class="mt-2">o escanea el c√≥digo QR con tu wallet de Lightning Network</p>
    </div>
    <img src="https://raw.githubusercontent.com/abcb1122/gbcc-marranito/main/assets/images/qrmarranito.png" alt="C√≥digo QR para LNURL" class="mt-4 mx-auto w-64 h-64 object-contain">
  </section>

  <section class="mt-12 max-w-2xl text-center">
    <h2 class="text-2xl font-bold text-blue-600">¬øQu√© es Bitcoin?</h2>
    <p class="text-lg text-gray-700 mt-4 font-sniglet">
      ¬°Dinero m√°gico que vive en internet! Puedes usarlo para comprar cosas, y en el marranito del Chiqui üë¶üèª, guardamos pedacitos peque√±os llamados SATS. 
    </p>
    <p class="text-lg text-gray-700 font-sniglet text-center">
      ¬°Es como juntar monedas para 1‚Çø tesoro!
    </p>
    <img src="https://raw.githubusercontent.com/abcb1122/gbcc-marranito/main/assets/images/bitcoin-ninos.png" alt="Bitcoin para ni√±os" class="mt-4 mx-auto w-80 h-40 object-contain rounded-lg">
  </section>

  <footer class="mt-12 py-4 text-center text-gray-600 font-sniglet">
    <p>Creado con ‚ù§Ô∏è por pap√° y Satoshi Nakamoto</p>
    <p>üêñ</p>
    <p class="text-sm mt-2">marranito.abcbbtc.com</p>
  </footer>

  <script>
    function formatSats(sats) {
      return sats.toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');
    }

    function formatCOP(cop) {
      return '$' + Math.floor(cop).toString().replace(/\B(?=(\d{3})+(?!\d))/g, '.');
    }

    async function fetchBalance() {
      try {
        const response = await fetch('https://shiny-sea-7963.arielbcb.workers.dev');
        const data = await response.json();
        const balanceSats = data.balance;

        document.getElementById('balance').textContent = `‚Çø ${formatSats(balanceSats)} sats ahorrados ü§©`;

        const coingecko = await fetch('https://api.coingecko.com/api/v3/simple/price?ids=bitcoin&vs_currencies=cop');
        const priceData = await coingecko.json();
        const btcToCop = priceData.bitcoin.cop;
        const copValue = (balanceSats / 100_000_000) * btcToCop;
        document.getElementById('cop-balance').textContent = `+/- ${formatCOP(copValue)} COP ü§Æ`;
      } catch (error) {
        document.getElementById('balance').textContent = 'Error al consultar saldo';
        document.getElementById('cop-balance').textContent = 'Error al cargar conversi√≥n';
      }
    }

    document.addEventListener('DOMContentLoaded', fetchBalance);
  </script>
</body>
</html>
